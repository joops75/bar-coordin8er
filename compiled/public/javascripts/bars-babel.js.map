{
  "version": 3,
  "sources": [
    "bars-babel.js"
  ],
  "names": [
    "dateFilter",
    "attendedBy",
    "attendedByFiltered",
    "filter",
    "attendee",
    "nextMidnight",
    "Date",
    "now",
    "date",
    "dateInMilliseconds",
    "dayMilliseconds",
    "Math",
    "ceil",
    "SearchResults",
    "props",
    "state",
    "bars",
    "limit",
    "offset",
    "currentPage",
    "input",
    "bind",
    "clickSearch",
    "clickPage",
    "attendBar",
    "ajaxFunctions",
    "ready",
    "ajaxRequest",
    "appUrl",
    "data",
    "split",
    "parsedData",
    "JSON",
    "parse",
    "username",
    "github",
    "attending",
    "length",
    "setState",
    "sessionStorage",
    "getItem",
    "localData",
    "$",
    "value",
    "term",
    "location",
    "countryCodeValue",
    "keyMatcher",
    "countryCode",
    "Code",
    "countryNameIndex",
    "countryCodes",
    "findIndex",
    "countryName",
    "Name",
    "textContent",
    "getAttendees",
    "url",
    "i",
    "barId",
    "businesses",
    "id",
    "ajaxAttendance",
    "number",
    "pageRequest",
    "address",
    "neighborhood",
    "city",
    "stateOrZip",
    "country",
    "countryCodeIndex",
    "parseInt",
    "ajaxBarRequest",
    "yelpBarsData",
    "setItem",
    "stringify",
    "e",
    "which",
    "search",
    "target",
    "className",
    "removeItem",
    "css",
    "fadeOut",
    "style",
    "display",
    "headerStyle",
    "visibility",
    "loginButtonStyle",
    "logoutButtonStyle",
    "logout",
    "clickList",
    "total",
    "React",
    "Component",
    "List",
    "countries",
    "map",
    "Bars",
    "bar",
    "img",
    "image_url",
    "barMatch",
    "attendingDisplay",
    "name",
    "rating",
    "price",
    "marginTop",
    "Pages",
    "totalBars",
    "numPages",
    "min",
    "floor",
    "pagesArr",
    "push",
    "pages",
    "page",
    "classNameDetails",
    "ReactDOM",
    "render",
    "document",
    "getElementById"
  ],
  "mappings": "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",
  "file": "bars-babel.js",
  "sourceRoot": "../../../src/public/javascripts",
  "sourcesContent": [
    "      var dateFilter = function(attendedBy) {\n        var attendedByFiltered = attendedBy.filter(function(attendee) {\n          return nextMidnight(Date.now()) == nextMidnight(attendee.date)\n        })\n        return attendedByFiltered\n      }\n      var nextMidnight = function(dateInMilliseconds) {\n        var dayMilliseconds = 1000 * 60 * 60 * 24\n        return Math.ceil(dateInMilliseconds / dayMilliseconds) * dayMilliseconds\n      }\n      class SearchResults extends React.Component {\n        constructor(props) {\n          super(props)\n          this.state = {\n            bars: '',\n            limit: 20,\n            offset: 0,\n            currentPage: 1\n          }\n          this.input = this.input.bind(this)//not sure why this needs binding as it isn't passed down as props\n          this.clickSearch = this.clickSearch.bind(this)\n          this.clickPage = this.clickPage.bind(this)\n          this.attendBar = this.attendBar.bind(this)\n        }\n        componentWillMount() {\n          ajaxFunctions.ready(ajaxFunctions.ajaxRequest('GET', appUrl + '/api/:id', (data) => {\n            if (data.split('', 1)[0] == '{') {//confirms response data is an object and thus logged in\n              var parsedData = JSON.parse(data)\n              var username = parsedData.github.username\n              var attending = parsedData.attending\n              if (attending.length > 0) attending = dateFilter(attending)\n              this.setState({\n                username: username,\n                attending: attending\n              })\n            }\n            if (sessionStorage.getItem('yelpBarsData')) {\n              var localData = JSON.parse(sessionStorage.getItem('yelpBarsData'))\n              $('#termSearchBox')[0].value = localData.term\n              $('#townSearchBox')[0].value = localData.location.split(',')[2]\n              \n              var countryCodeValue = localData.location.split(',')[4]\n              var keyMatcher = function(countryCode) {\n                return countryCode.Code == countryCodeValue\n              }\n              var countryNameIndex = countryCodes.findIndex(keyMatcher)\n              var countryName = countryCodes[countryNameIndex].Name\n              $('#countryButton')[0].textContent = countryName\n              \n              this.setState({\n                bars: localData.bars,\n                currentPage: localData.currentPage\n              })\n              this.getAttendees(localData.bars)\n            }\n          }))\n        }\n        getAttendees(bars) {\n          var url = appUrl + '/api/:id/getAttendees'\n          for (let i = 0; i < bars.businesses.length; i++) {\n            var barId = bars.businesses[i].id\n            ajaxFunctions.ready(ajaxFunctions.ajaxAttendance('GET', url, barId, (number) => {\n              $('#attendButton_' + i)[0].textContent = number + ' going'\n            }))\n          }\n        }\n        search(pageRequest) {\n          var url = appUrl + '/api/:id/bars'\n          var term = $('#termSearchBox')[0].value\n          var address = \"''\", neighborhood = \"''\", city = \"''\", stateOrZip = \"''\", country = \"''\"\n          var city = $('#townSearchBox')[0].value\n          \n          var countryName = $('#countryButton')[0].textContent\n          var keyMatcher = function(countryCode) {\n            return countryCode.Name == countryName\n          }\n          var countryCodeIndex = countryCodes.findIndex(keyMatcher)\n          country = countryCodes[countryCodeIndex].Code\n          \n          var location = address + ',' + neighborhood + ',' + city + ',' + stateOrZip + ',' + country\n          var limit = this.state.limit\n          var currentPage\n          pageRequest? currentPage = parseInt(pageRequest, 10) : currentPage = 1\n          var offset = limit * (currentPage - 1)\n          ajaxFunctions.ready(ajaxFunctions.ajaxBarRequest('GET', url, term, location, limit, offset, (data) => {\n            var parsedData = JSON.parse(data)\n            this.setState({\n              bars: parsedData,\n              currentPage: currentPage\n            })\n            this.getAttendees(parsedData)\n            // save data locally\n            var yelpBarsData = {\n              term: term,\n              location: location,\n              currentPage: currentPage,\n              bars: parsedData\n            }\n            sessionStorage.setItem('yelpBarsData', JSON.stringify(yelpBarsData))\n          }))\n        }\n        input(e) {\n          if (e.which == 13) {\n            this.search()\n          }\n        }\n        clickSearch() {\n          this.search()\n        }\n        clickList(e) {\n          $('#countryButton')[0].textContent = e.target.textContent\n        }\n        clickPage(e) {\n          if (e.target.className == 'page') {\n            var pageRequest = e.target.textContent\n            this.search(pageRequest)\n          }\n        }\n        logout() {\n          sessionStorage.removeItem('yelpBarsData')\n        }\n        attendBar(e) {\n          var i = e.target.id.split('_')[1]\n          if (!this.state.username) {\n            $('#attendNotice_' + i).css('display', 'inline').fadeOut(3000)\n          } else {\n            var url = appUrl + '/api/:id/attendBar'\n            var barId = this.state.bars.businesses[i].id\n            ajaxFunctions.ready(ajaxFunctions.ajaxAttendance('POST', url, barId, (number) => {\n              $('#attendButton_' + i)[0].textContent = number + ' going'\n              $('#attending_' + i)[0].style.display == 'none' ? $('#attending_' + i).css('display', '') : $('#attending_' + i).css('display', 'none')\n            }))\n          }\n        }\n        render() {\n          var headerStyle = () => {\n            if (!this.state.username) return {visibility: 'hidden'}\n          }\n          var loginButtonStyle = () => {\n            if (this.state.username) return {display: 'none'}\n          }\n          var logoutButtonStyle = () => {\n            if (!this.state.username) return {display: 'none'}\n          }\n          return (\n            <div>\n              <h2>Bar Coordin8er</h2>\n              <div className=\"navigation\">\n                <a href=\"/auth/github\"><button className=\"btn btn-primary height-restrict-btn inline float-right\" style={loginButtonStyle()}><i className='fa fa-github'></i> Login</button></a>\n                <a href=\"/logout\"><button className=\"btn btn-primary height-restrict-btn inline float-right\" style={logoutButtonStyle()} onClick={this.logout}><i className='fa fa-github'></i> Logout</button></a>\n                <span className=\"height-restrict inline float-right\" style={headerStyle()}>Welcome, {this.state.username}</span>\n                <input id='termSearchBox' className=\"height-restrict\" type='text' placeholder='Enter search term' onKeyDown={this.input}/>\n                <input id='townSearchBox' className=\"height-restrict\" type='text' placeholder='Enter town/city' onKeyDown={this.input}/>\n                <span className=\"dropdown height-restrict\">\n                  <button id='countryButton' className=\"btn btn-primary dropdown-toggle height-restrict-btn\" type=\"button\" data-toggle=\"dropdown\">United States</button>\n                  <List clickList={this.clickList}/>\n                </span> \n                <button className=\"btn btn-primary height-restrict-btn\" onClick={this.clickSearch}>Go!</button>\n              </div>\n              <Bars bars={this.state.bars} attendBar={this.attendBar} attending={this.state.attending}/>\n              <Pages totalBars={this.state.bars.total} limit={this.state.limit} offset={this.state.offset} currentPage={this.state.currentPage} clickPage={this.clickPage}/>\n            </div>\n          )\n        }\n      }\n      \n      function List(props) {\n        var countries = countryCodes.map(function(country, i) {\n          return <li key={'list_' + i} id={'list_' + i} onClick={props.clickList}>{country.Name}</li>\n        })\n        return <ul className=\"dropdown-menu\" size='20'>{countries}</ul>\n      }\n      \n      function Bars(props) {\n        if (props.bars) {\n          var bars = props.bars.businesses.map(function(bar, i) {\n            var img\n            bar.image_url ? img = <img src={bar.image_url}/> : img = <img src='/public/img/NoImageAvailable.png'/>\n            var barMatch = false\n            if (props.attending && props.attending.length > 0) {\n              for (let i in props.attending) {\n                if (props.attending[i].id == bar.id) {\n                  barMatch = true\n                  break\n                }\n              }\n            }\n            var attendingDisplay\n            barMatch ? attendingDisplay = {display: ''} : attendingDisplay = {display: 'none'}\n            \n            return (\n              <div key={'bars_' + i} className=\"results row-height\">\n                <div className='inline'>\n                  <div className='inline'>{img}</div>\n                  <div className='inline'><a href={bar.url} target='_blank'><span>{bar.name}</span></a></div>\n                  <span>Rating: {bar.rating}</span>\n                  <span>Price: {bar.price}</span>\n                </div>\n                <div className='inline float-right'>\n                  <span id={`attendNotice_${i}`} className='line-height' style={{display: 'none'}}>Please login to declare atttendance!</span>\n                  <span id={`attending_${i}`} className=\"line-height\" style={attendingDisplay}>Attending this bar!</span>\n                  <button id={`attendButton_${i}`} className=\"btn btn-primary height-restrict-btn float-right\" style={{marginTop: '35px'}} onClick={props.attendBar}>0 going</button>\n                </div>\n              </div>  \n            )\n          })\n          return <div>{bars}</div>\n        } else {\n          return null\n        }\n      }\n      \n      function Pages(props) {\n        if (props.totalBars && props.totalBars > props.limit) {\n          var numPages = Math.min(Math.ceil(props.totalBars / props.limit), Math.floor(1000 / props.limit))//can only search for the first 1000 businesses on yelp api\n          var pagesArr = []\n          for (var i = 1; i <= numPages; i++) {\n             pagesArr.push(i)\n          }\n          var pages = pagesArr.map(function(page, i) {\n            var classNameDetails\n            props.currentPage == page ? classNameDetails = 'nopage' : classNameDetails = 'page'\n            return <span key={'pages_' + i}><span className={classNameDetails} onClick={props.clickPage}>{page}</span> </span>\n          })\n          return (\n            <div>\n              <div className=\"navigation\">Skip to page:</div>\n              <div className='pages'>{pages}</div>\n            </div>\n          )\n        } else {\n          return null\n        }\n      }\n      \n      ReactDOM.render(<SearchResults />, document.getElementById('target'))"
  ]
}

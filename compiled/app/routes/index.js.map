{
  "version": 3,
  "sources": [
    "index.js"
  ],
  "names": [
    "path",
    "require",
    "directory",
    "__dirname",
    "arr",
    "split",
    "splice",
    "pathStub",
    "indexOf",
    "join",
    "BarsHandler",
    "module",
    "exports",
    "app",
    "passport",
    "isLoggedIn",
    "req",
    "res",
    "next",
    "isAuthenticated",
    "end",
    "barsHandler",
    "route",
    "get",
    "sendFile",
    "logout",
    "redirect",
    "json",
    "user",
    "authenticate",
    "successRedirect",
    "failureRedirect",
    "getBars",
    "post",
    "attendBar",
    "getAttendees"
  ],
  "mappings": "AAAA;;AAEA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,YAAYC,SAAhB;AACA,IAAIC,MAAMF,UAAUG,KAAV,CAAgB,QAAhB,CAAV;AACAD,IAAIE,MAAJ,CAAW,CAAC,CAAZ,EAAe,CAAf;AACA,IAAIC,WAAWH,IAAII,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0BJ,IAAIK,IAAJ,CAAS,GAAT,CAA1B,GAA0CL,IAAIK,IAAJ,CAAS,IAAT,CAAzD;AACA,IAAIC,cAAcT,QAAQD,KAAKS,IAAL,CAAUF,WAAW,wCAArB,CAAR,CAAlB;;AAEAI,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACrC,aAASC,UAAT,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;AAChC,YAAIF,IAAIG,eAAJ,EAAJ,EAA2B;AACvB,mBAAOD,MAAP;AACH,SAFD,MAEO;AACHD,gBAAIG,GAAJ,CAAQ,eAAR,EADG,CACqB;AAC3B;AACJ;AACD,QAAIC,cAAc,IAAIX,WAAJ,EAAlB;AACAG,QAAIS,KAAJ,CAAU,GAAV,EACKC,GADL,CACS,UAASP,GAAT,EAAcC,GAAd,EAAmB;AACpBA,YAAIO,QAAJ,CAAajB,WAAW,mBAAxB;AACH,KAHL;AAIAM,QAAIS,KAAJ,CAAU,SAAV,EACKC,GADL,CACS,UAASP,GAAT,EAAcC,GAAd,EAAmB;AACpBD,YAAIS,MAAJ;AACAR,YAAIS,QAAJ,CAAa,GAAb;AACH,KAJL;AAKAb,QAAIS,KAAJ,CAAU,UAAV,EACKC,GADL,CACSR,UADT,EACqB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAChCA,YAAIU,IAAJ,CAASX,IAAIY,IAAb;AACH,KAHL;AAIAf,QAAIS,KAAJ,CAAU,cAAV,EACKC,GADL,CACST,SAASe,YAAT,CAAsB,QAAtB,CADT;AAEAhB,QAAIS,KAAJ,CAAU,uBAAV,EACKC,GADL,CACST,SAASe,YAAT,CAAsB,QAAtB,EAAgC;AACjCC,yBAAiB,GADgB;AAEjCC,yBAAiB;AAFgB,KAAhC,CADT;AAKAlB,QAAIS,KAAJ,CAAU,eAAV,EACKC,GADL,CACSF,YAAYW,OADrB;AAEAnB,QAAIS,KAAJ,CAAU,oBAAV,EACKW,IADL,CACUZ,YAAYa,SADtB;AAEArB,QAAIS,KAAJ,CAAU,uBAAV,EACKC,GADL,CACSF,YAAYc,YADrB;AAEH,CAnCD",
  "file": "index.js",
  "sourceRoot": "../../../src/app/routes",
  "sourcesContent": [
    "'use strict'\r\n\r\nvar path = require('path')\r\nvar directory = __dirname\r\nvar arr = directory.split(/[\\/\\\\]/)\r\narr.splice(-2, 2)\r\nvar pathStub = arr.indexOf('/') !== -1 ? arr.join('/') : arr.join('\\\\')\r\nvar BarsHandler = require(path.join(pathStub + \"/app/controllers/barsHandler.server.js\"))\r\n\r\nmodule.exports = function(app, passport) {\r\n    function isLoggedIn(req, res, next) {\r\n        if (req.isAuthenticated()) {\r\n            return next()\r\n        } else {\r\n            res.end('not logged in')//must respond with *something* or else code in ajax request won't run\r\n        }\r\n    }\r\n    var barsHandler = new BarsHandler()\r\n    app.route('/')\r\n        .get(function(req, res) {\r\n            res.sendFile(pathStub + '/public/bars.html')\r\n        })\r\n    app.route('/logout')\r\n        .get(function(req, res) {\r\n            req.logout()\r\n            res.redirect('/')\r\n        })\r\n    app.route('/api/:id')\r\n        .get(isLoggedIn, function(req, res) {\r\n            res.json(req.user)\r\n        })\r\n    app.route('/auth/github')\r\n        .get(passport.authenticate('github'))\r\n    app.route('/auth/github/callback')\r\n        .get(passport.authenticate('github', {\r\n            successRedirect: '/',\r\n            failureRedirect: '/'\r\n        }))\r\n    app.route('/api/:id/bars')\r\n        .get(barsHandler.getBars)\r\n    app.route('/api/:id/attendBar')\r\n        .post(barsHandler.attendBar)\r\n    app.route('/api/:id/getAttendees')\r\n        .get(barsHandler.getAttendees)\r\n}"
  ]
}
